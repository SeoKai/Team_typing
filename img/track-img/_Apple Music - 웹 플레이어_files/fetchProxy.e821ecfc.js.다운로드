(()=>{"use strict";var e={67313:(e,t,n)=>{n.d(t,{IA:()=>r});var a,i=n(7839),o=n(65674);(function(e){e[e["Success"]=200]="Success",e[e["BadRequest"]=400]="BadRequest",e[e["NotFound"]=404]="NotFound",e[e["TooManyRequests"]=429]="TooManyRequests",e[e["ServerError"]=500]="ServerError",e[e["NotImplemented"]=501]="NotImplemented"})(a||(a={}));const r=(e,t)=>"string"===typeof e?e:t===i.zc.FormUrlEncoded?(0,o.m2)(e):JSON.stringify(e)},32067:(e,t,n)=>{var a,i,o;n.d(t,{wg:()=>a}),function(e){e["AmkClientWrapper"]="amk-client",e["StandaloneClient"]="standalone-client",e["TestClient"]="test-client",e["CypressClient"]="cypress-client",e["CommerceKitClient"]="commercekit-client"}(a||(a={})),function(e){e["Login"]="login",e["Logout"]="logout",e["AlreadySubscribed"]="already-subscribed",e["SubscribeSuccess"]="subscribe-success",e["Redeem"]="redeem"}(i||(i={})),function(e){e["MusicOnboarding"]="onboarding",e["TvMls"]="mls"}(o||(o={}))},64382:(e,t,n)=>{n.d(t,{sE:()=>v,Wd:()=>h,sq:()=>d,LT:()=>i,nL:()=>m,T2:()=>p,t8:()=>C,zd:()=>s});n(19423),n(93626),n(91263),n(32067);var a=n(18021);const i={idms2:"https://appleid-qa1.corp.apple.com",idms1:"https://appleid-ut.corp.apple.com",idms_stage:"https://appleid-stage.apple.com",idms_prod:"https://appleid.apple.com",idms2_account:"https://account-qa1.corp.apple.com",idms1_account:"https://account-ut.corp.apple.com",idms_stage_account:"https://account-stage.apple.com",idms_prod_account:"https://account.apple.com"},o={"ase-commerce":{"/":a.x4.Base},"amp-payments":{"/":a.x4.ManagePayments,"/shipping/edit":a.x4.EditShipping},"amp-edit-payment":{"/":a.x4.EditPayment},"amp-add-payment":{"/":a.x4.AddPayment},"amp-buy":{"/":a.x4.BuyV2}},r=e=>{const t={},n=Object.keys(e);return n.forEach((n=>{const a=Object.keys(e[n]);a.forEach((a=>{const i=e[n][a];t[i]={moduleName:n,path:"/"===a?"":a}}))})),t},c=r(o),s=()=>{const e=window.parent;return e!==window};let u;const p=()=>void 0!==u?u:u=s()&&(document.referrer.includes("https://appleid")||document.referrer.includes("https://account")||window.location.search.includes("wid="))||!1,l=e=>Object.keys(o).includes(e),d=(e,t="")=>{if(l(e))return{moduleName:e,path:t};const n=c[e];if(!n)throw new Error(`Could not find IdMS module config for CommerceKit route '${e}'`);return n},m=e=>Object.keys((0,a.it)()).includes(e),v=(e,t="/")=>{var n;if(m(e))return e;const a=null===(n=o[e])||void 0===n?void 0:n[t];if(!a)throw new Error(`Could not find CommerceKit route for module name '${e}' and partialPath '${t}'`);return a},h=(e,t="/",n=(0,a.it)())=>{const i=v(e,t);if(!i)throw new Error(`Could not find CommerceKit route name for name '${e}' and partialPath ${t}`);const o=n[i];if(!o)throw new Error(`Could not find CommerceKit route config for CommerceKit route name ${i}`);return o.path},C=e=>Object.keys(i).includes(e)},36126:(e,t,n)=>{var a,i,o,r,c,s;n(6886);(function(e){e["Alipay"]="APWC",e["AlipayHongKong"]="APHK",e["ApplePayClassic"]="applePayClassic",e["Bancontact"]="BANCONTACT",e["Blik"]="BLIK",e["Carrier"]="CBXX",e["CreditCard"]="CreditCard",e["Dana"]="DANA",e["Eps"]="EPS",e["Gcash"]="GCASH",e["GoPay"]="GoPay",e["Ideal"]="IDEAL",e["Kakao"]="KAKO",e["KoreanCard"]="KoreanCard",e["Momo"]="MOMO",e["NetBanking"]="NetBanking",e["None"]="None",e["PayCash"]="PayCash",e["PayEase"]="PayEase",e["PayMaya"]="MAYA",e["PayPal"]="PayPal",e["Payco"]="PAYCO",e["Paytm"]="PYTM",e["Pypy"]="PYPY",e["RuPay"]="RuPay",e["Shpy"]="SHPY",e["StoreCredit"]="storeCredit",e["TouchNGo"]="TNG",e["Upi"]="UPI",e["WeChat"]="WCPY"})(a||(a={})),function(e){e[e["Requires3dSecure"]=9980]="Requires3dSecure",e[e["RequiresExternalVerification"]=9990]="RequiresExternalVerification",e[e["RequiresTokenConfirmation"]=9991]="RequiresTokenConfirmation"}(i||(i={})),function(e){e[e["Fail"]=-1]="Fail",e[e["Success"]=0]="Success"}(o||(o={})),function(e){e["NoChange"]="dontchange",e["Verify"]="otp",e["Verified"]="otpVerified",e["Sms"]="sms",e["Http"]="http"}(r||(r={})),function(e){e[e["CNPJ"]=14]="CNPJ",e[e["CPF"]=11]="CPF"}(c||(c={})),function(e){e["Cpf"]="Brazil_CPF",e["Cnpj"]="Brazil_CNPJ"}(s||(s={}));a.PayPal,a.WeChat,a.Alipay,a.Kakao,a.AlipayHongKong,a.Paytm,a.TouchNGo,a.Momo,a.PayMaya,a.Gcash,a.Dana,a.Payco,a.Shpy,a.Pypy;var u,p,l,d;(function(e){e["Wallet"]="WALLET"})(u||(u={})),function(e){e["AmericanExpress"]="Amex",e["ChinaUnionPay"]="UPCC",e["DinersClub"]="Diners Club",e["Discover"]="Discover",e["Lotte"]="LOTTE",e["Maestro"]="Switch",e["MasterCard"]="MasterCard",e["Visa"]="Visa"}(p||(p={})),function(e){e["ChinaUnionPay"]="UPDC"}(l||(l={})),function(e){e["Credit"]="CREDIT",e["Debit"]="DEBIT",e["CupDebit"]="19",e["CupCredit"]="18"}(d||(d={}));var m;(function(e){e["ADD_PAYMENT"]="addPayment",e["EDIT_PAYMENT"]="editPayment",e["ADD_FUNDS"]="addFunds",e["EDIT_ADDRESS"]="editAddress",e["RECOVERY"]="recovery"})(m||(m={}))},7839:(e,t,n)=>{n.d(t,{zc:()=>a});n(36126);var a;(function(e){e["Json"]="application/json",e["FormUrlEncoded"]="application/x-www-form-urlencoded"})(a||(a={}))},17870:(e,t,n)=>{n.d(t,{Ct:()=>a.Ct,Ew:()=>a.Ew,iO:()=>a.iO,mc:()=>a.mc,nl:()=>a.nl});var a=n(86570)},32943:(e,t,n)=>{n(86578)},65674:(e,t,n)=>{n.d(t,{Ru:()=>m.Ru,Sr:()=>p,Xc:()=>r,F4:()=>v.F4,Jl:()=>v.Jl,$c:()=>c,m2:()=>d,Dc:()=>a.Dc,Be:()=>a.Be});var a=n(46233),i=n(29784),o=n(1724);const r=e=>(0,i.Ig)(o.v).find((t=>o.v[t]===e))||"US";n(7593),n(86578);function c(e,t,{retryLimit:n=2}={}){let i=0;const o=async(...r)=>{++i;try{return await(0,a.ek)(e(...r),t)}catch(c){if(i-1<n)return await(0,a.ek)(o(...r),t);throw c}};return o}n(77239);n(52223);const s=()=>!1,u=(s(),(e={})=>Object.entries(e).map((([e,t])=>"undefined"!==typeof t&&`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)).filter(Boolean).join("&")),p=(e,t)=>{const n=e.includes("?")?"&":"?";return`${e}${n}${u(t)}`},l=e=>/string|number|boolean/.test(typeof e),d=e=>Object.entries(e).map((([e,t])=>{const n=l(t)?encodeURIComponent(t):`${t}`;return`${encodeURIComponent(e)}=${n}`})).filter(Boolean).join("&");var m=n(11960);n(2084);var v=n(34758);n(90694),n(77564),n(73971),n(9150),n(30689),n(77096),n(58570),n(20137),n(38203);var h,C;(function(e){e["AddFunds"]="addFunds",e["Channel"]="channel",e["KoreaAgeVerification"]="koreaAgeVerification",e["Metrics"]="metrics",e["Music"]="music",e["MusicOffers"]="music/offers",e["MusicUser"]="music/user",e["MusicCarrier"]="music/carrier",e["PaymentInfos"]="paymentInfos",e["PaymentVerification"]="paymentVerification",e["Payments"]="payments",e["Preorders"]="preorders",e["PurchaseHistory"]="purchaseHistory",e["Psd2"]="psd2",e["Redeem"]="redeem",e["RefundRequest"]="refundRequest",e["SubscriptionV2"]="subscriptionsV2",e["SubscriptionV3"]="subscriptionsV3",e["Terms"]="terms"})(h||(h={})),function(e){e["Foreground"]="BE-FGD"}(C||(C={}))},1724:(e,t,n)=>{n.d(t,{v:()=>i});var a=n(82929);const i={BD:a.Cv.Bangladesh,BE:a.Cv.Belgium,BF:a.Cv.BurkinaFaso,BG:a.Cv.Bulgaria,BA:a.Cv.BosniaAndHerzegovina,BB:a.Cv.Barbados,BM:a.Cv.Bermuda,BN:a.Cv.Brunei,BO:a.Cv.Bolivia,BH:a.Cv.Bahrain,BJ:a.Cv.Benin,BT:a.Cv.Bhutan,JM:a.Cv.Jamaica,BW:a.Cv.Botswana,WS:a.Cv.Samoa,BR:a.Cv.Brazil,BS:a.Cv.Bahamas,BY:a.Cv.Belarus,BZ:a.Cv.Belize,RU:a.Cv.Russia,RW:a.Cv.Rwanda,RS:a.Cv.Serbia,TM:a.Cv.Turkmenistan,TJ:a.Cv.Tajikistan,RO:a.Cv.Romania,GW:a.Cv.GuineaBissau,GT:a.Cv.Guatemala,GR:a.Cv.Greece,JP:a.Cv.Japan,GY:a.Cv.Guyana,GE:a.Cv.Georgia,GD:a.Cv.Grenada,GB:a.Cv.UnitedKingdom,GA:a.Cv.Gabon,SV:a.Cv.ElSalvador,GN:a.Cv.Guinea,GM:a.Cv.Gambia,GH:a.Cv.Ghana,OM:a.Cv.Oman,TN:a.Cv.Tunisia,JO:a.Cv.Jordan,HR:a.Cv.Croatia,HU:a.Cv.Hungary,HK:a.Cv.HongKong,HN:a.Cv.Honduras,VE:a.Cv.Venezuela,PS:a.Cv.Palestine,PW:a.Cv.Palau,PT:a.Cv.Portugal,PY:a.Cv.Paraguay,IQ:a.Cv.Iraq,PA:a.Cv.Panama,PG:a.Cv.PapuaNewGuinea,PE:a.Cv.Peru,PK:a.Cv.Pakistan,PH:a.Cv.Philippine,PL:a.Cv.Poland,ZM:a.Cv.Zambia,EE:a.Cv.Estonia,EG:a.Cv.Egypt,ZA:a.Cv.SouthAfrica,EC:a.Cv.Ecuador,IT:a.Cv.Italy,VN:a.Cv.Vietnam,SB:a.Cv.SolomanIslands,ET:a.Cv.Ethiopia,ZW:a.Cv.Zimbabwe,SA:a.Cv.SaudiArabia,ES:a.Cv.Spain,ME:a.Cv.Montenegro,MD:a.Cv.Moldova,MG:a.Cv.Madagascar,MA:a.Cv.Morocco,MC:a.Cv.Monaco,UZ:a.Cv.Uzbekistan,MM:a.Cv.Myanmar,ML:a.Cv.Mali,MO:a.Cv.Macao,MN:a.Cv.Mongolia,MK:a.Cv.NorthMacedonia,MU:a.Cv.Mauritius,MT:a.Cv.Malta,MW:a.Cv.Malawi,MV:a.Cv.Maldives,MS:a.Cv.Montserrat,MR:a.Cv.Mauritania,UG:a.Cv.Uganda,TZ:a.Cv.Tanzania,MY:a.Cv.Malaysia,MX:a.Cv.Mexico,IL:a.Cv.Israel,FR:a.Cv.France,FI:a.Cv.Finland,FJ:a.Cv.Fiji,FM:a.Cv.FederatedStatesOfMicronesia,NI:a.Cv.Nicaragua,NL:a.Cv.Netherlands,NO:a.Cv.Norway,NA:a.Cv.Namibia,VU:a.Cv.Vanuatu,NE:a.Cv.Niger,NG:a.Cv.Nigeria,NZ:a.Cv.NewZealand,NP:a.Cv.Nepal,NR:a.Cv.Nauru,XK:a.Cv.Kosovo,CI:a.Cv.CotedIvoire,CH:a.Cv.Switzerland,CO:a.Cv.Colombia,CN:a.Cv.China,CM:a.Cv.Cameroon,CL:a.Cv.Chile,CC:a.Cv.Switzerland,CA:a.Cv.Canada,CG:a.Cv.Congo,CF:a.Cv.CentralAfricanRepublic,CD:a.Cv.DemocraticRepublicOfTheCongo,CZ:a.Cv.Czechia,CY:a.Cv.Cyprus,CR:a.Cv.CostaRica,CV:a.Cv.CaboVerde,SZ:a.Cv.Eswatini,KG:a.Cv.Kyrgyzstan,KE:a.Cv.Kenya,SR:a.Cv.Suriname,KH:a.Cv.Cambodia,KN:a.Cv.SaintKittsAndNevis,ST:a.Cv.SaoTomeAndPrincipe,SK:a.Cv.Slovakia,KR:a.Cv.SouthKorea,SI:a.Cv.Slovenia,KW:a.Cv.Kuwait,SN:a.Cv.Senegal,SL:a.Cv.SierraLeone,SC:a.Cv.Seychelles,KZ:a.Cv.Kazakhstan,KY:a.Cv.CaymanIslands,SG:a.Cv.Singapore,SE:a.Cv.Sweden,DO:a.Cv.DominicanRepublic,DM:a.Cv.Dominica,DK:a.Cv.Denmark,VG:a.Cv.BritishVirginIslands,DE:a.Cv.Germany,YE:a.Cv.Yemen,DZ:a.Cv.Algeria,US:a.Cv.UnitedStatesOfAmerica,UY:a.Cv.Uruguay,LB:a.Cv.Lebanon,LC:a.Cv.SaintLucia,LA:a.Cv.LaoPeoplesDemocraticRepublic,TW:a.Cv.Taiwan,TT:a.Cv.TrinidadAndTobago,TR:a.Cv.Turkey,LK:a.Cv.SriLanka,LI:a.Cv.Liechtenstein,LV:a.Cv.Latvia,TO:a.Cv.Tonga,LT:a.Cv.Lithuania,LU:a.Cv.Luxembourg,LR:a.Cv.Liberia,TH:a.Cv.Thailand,TD:a.Cv.Chad,TC:a.Cv.TurksAndCaicosIslands,LY:a.Cv.Libya,VC:a.Cv.SaintVincentAndTheGrenadines,AE:a.Cv.UnitedArabEmirates,AD:a.Cv.Andorra,AG:a.Cv.AntiguaAndBarbuda,AF:a.Cv.Afghanistan,AI:a.Cv.Anguilla,IS:a.Cv.Iceland,AM:a.Cv.Armenia,AL:a.Cv.Albania,AO:a.Cv.Angola,AR:a.Cv.Argentina,AU:a.Cv.Australia,AT:a.Cv.Austria,IN:a.Cv.India,AZ:a.Cv.Azerbaijan,IE:a.Cv.Ireland,ID:a.Cv.Indonesia,UA:a.Cv.Ukraine,QA:a.Cv.Qatar,MZ:a.Cv.Mozambique}},4583:(e,t,n)=>{n.d(t,{G7:()=>a.G,ix:()=>a.i});var a=n(9450);n(8190)},46233:(e,t,n)=>{n.d(t,{Be:()=>o,Dc:()=>i,ek:()=>r,kX:()=>a});n(86578);const a=e=>{let t=null;return(...n)=>t||(t=e(...n).finally((()=>{t=null})),t)},i=e=>new Promise((t=>setTimeout(t,e)));function o(e,t,n){return Promise.race([e,new Promise(((e,a)=>setTimeout(a,t,new n)))])}const r=(e,t)=>Promise.race([e,new Promise(((e,n)=>setTimeout(n,t)))])},7593:(e,t,n)=>{n(77239)},11960:(e,t,n)=>{n.d(t,{$Y:()=>o,Rr:()=>c,Ru:()=>a,Ze:()=>r,hW:()=>i});n(77239);const a="itunes",i="https://buy.itunes.apple.com",o="https://play.itunes.apple.com",r="https://speedysub.itunes.apple.com",c="https://amp-account.itunes.apple.com"},99988:(e,t,n)=>{n.d(t,{CA:()=>a});const a="SERVER_ERROR"},86570:(e,t,n)=>{n.d(t,{Ct:()=>d,Ew:()=>h,iO:()=>s,mc:()=>C,nl:()=>r});n(72842);var a=n(22418),i=n(99988),o=n(34758);class r extends Error{constructor(e,t={}){super(),this.name=i.CA;const{url:n,status:a,body:r,domain:c,errorType:s,errorMessageKey:u,amsErrorCode:p,details:l}=t;if(n?(this.url=(0,o.aX)(n),this.message=`${e}: ${this.url}`):this.message=e,a&&(this.status=parseInt(a.toString(),10)),this.body=r||(null===l||void 0===l?void 0:l.AMSServerPayload),this.domain=c,this.errorType=s,this.amsErrorCode=p,this.details=l,u)this.errorMessageKey=u;else{const{errorMessageKey:e}=(null===l||void 0===l?void 0:l.AMSServerPayload)||{},{errorMessageKey:t}=r||{};this.errorMessageKey=e||t}}get code(){return this.status}}class c extends Error{constructor(e){super(),this.name="DialogErrorResponse",this.message=e}}Error,Error,Error,Error,Error,Error;const s=class extends Error{constructor(){super("The server is taking too long to respond")}},u=e=>e instanceof r;var p,l;(function(e){e[e["Auth"]=401]="Auth",e[e["ServerUnknown"]=5002]="ServerUnknown"})(p||(p={})),function(e){e[e["AMSErrorCodeCancelled"]=6]="AMSErrorCodeCancelled"}(l||(l={}));const d=e=>{if(u(e))return e;const t="Server Error";if((0,a.N)(e)){const{userinfo:n,code:a,title:i,message:o}=e;return new r(i||o||t,{status:n.AMSServerErrorCode||n.AMSStatusCode||a,amsErrorCode:a,details:n})}if((0,a.Y)(e)){const{status:n,errorType:a,errorMessageKey:i}=e;return new r(t,{status:n,errorType:a,errorMessageKey:i})}const{code:n,localizedDescription:i}=e;return n?new r(i||t,{status:n}):void 0};var m,v;(function(e){e["Auth"]="Authentication",e["TermsAuth"]="MZFinance.TermsCheckLoginRequired",e["MediaLinkInvalidSession"]="MEDIA_LINK_INVALID_SESSION"})(m||(m={})),function(e){e["NoAuthorization"]="MZCommerce.NoAuthorization",e["AlreadyClaimed"]="MZCommerce.HardBundleAlreadyClaimed"}(v||(v={}));const h=e=>{if(!u(e))return!1;const{code:t,errorType:n,errorMessageKey:a}=e;return t===p.Auth||n===m.Auth||a===v.NoAuthorization},C=e=>{if(!u(e))return!1;const{amsErrorCode:t}=e;return t===l.AMSErrorCodeCancelled}},8190:(e,t,n)=>{n(86578)},90694:(e,t,n)=>{n(77239),n(29784),n(39261)},39261:(e,t,n)=>{n(86578)},71909:(e,t,n)=>{n(77239),n(90694)},34758:(e,t,n)=>{n.d(t,{DZ:()=>i,F4:()=>c,Jl:()=>a,aX:()=>o});n(2084),n(86578),n(86388),n(81855);const a=(e,t=!1)=>{const n=new RegExp("([^?=&]+)(=([^&]*))","g"),a=e.match(n);return a?a.reduce(((e,n)=>{const a=n.split("="),i=a[0],o=a[1];return e[i]=t?decodeURIComponent(o):o,e}),{}):{}},i=(e,t)=>{if(!e)return"";const n=new URLSearchParams(t);if(!`${n}`.length)return e;try{const t=new URL(e);for(const[e,a]of n.entries())t.searchParams.append(e,a);return t.href}catch(a){const t=e.includes("?");return t?e.indexOf("?")===e.length-1||e.indexOf("&")===e.length-1?`${e}${n}`:`${e}&${n}`:`${e}?${n}`}},o=e=>{const t=new URL(e);return`${t.origin}${t.pathname}`},r={},c=(e,t,n)=>{if(r[t])return r[t];const a=new URLSearchParams(e).get(t);return r[t]=a||n,r[t]}},79010:(e,t,n)=>{n.d(t,{AC:()=>A,H1:()=>f,HY:()=>S,VW:()=>g,d$:()=>s});n(77239);var a=n(33839),i=n(16236);const o={[i.x.Business]:"https://vpp.itunes.apple.com",[i.x.Education]:"https://volume.itunes.apple.com",[i.x.BusinessGroupManager]:"https://group.itunes.apple.com"},r="podcastsconnect",c="apps",s="activate",u="link",p="tv",l=[s,p,"music","podcasts",r,c,u],d=["cp","carry","beta","nightly","itms[0-9]+","itms[0-9]+-charts","dev"],m=new RegExp(`^https:\\/\\/(?:${d.join("|")})?[-.]??(${l.join("|")}).apple.com`,"i"),v=/^https?:\/\/(?:.+\.)?(.+).apple.com/,h=/^[a-z]+$/i;let C;const y=e=>{const t=[i.x.Music,i.x.Tv,i.x.Activate,i.x.Podcasts,i.x.Business,i.x.Education,r,c];return t.includes(e.toLowerCase())},b=e=>!!o[e],f=(e={origin:location.origin,query:location.search,useCache:!0})=>{var t,n,i;const o=null!==(t=e.origin)&&void 0!==t?t:location.origin,r=null!==(n=e.query)&&void 0!==n?n:location.search,c=null===(i=e.useCache)||void 0===i||i;if(c&&C)return C;let s="";const u=o.match(m),p=u&&u[1],l=(0,a.Jl)(r),{product:d,returnPath:v}=l;if(d&&h.test(d))s=d;else if(v&&decodeURIComponent(v).match(/product=/i)){const{product:e}=(0,a.Jl)(decodeURIComponent(v));s=e}else p&&y(p)&&(s=p);return s=s.toLowerCase(),C=s,s},g=()=>{var e;const t=null===(e=window.location.origin.match(v))||void 0===e?void 0:e[1];return(null===t||void 0===t?void 0:t.endsWith(r))?r:t},S=e=>m.test(e)||!1,q=(e,t)=>e.replace(/(http[s]?:\/\/){1}([\w\-.]+)/gi,t),A=(e,t)=>b(t)?q(e,o[t]):e},77564:(e,t,n)=>{n(71909)},82929:(e,t,n)=>{n.d(t,{FQ:()=>a.F,Cv:()=>r.C,Zj:()=>i.Z});var a=n(13200),i=n(49953),o=(n(21156),n(52223));(0,o.A)(a.F);var r=n(38608)},74270:(e,t,n)=>{n.d(t,{nD:()=>r});n(72842),n(86578),n(25248),n(2084),n(77239);var a=n(10369),i=n(46233),o=(n(8190),n(16236));const r=a;let c=!1,s="";o.x.Tv,o.x.Music,o.x.Podcasts;(0,i.kX)((async()=>{if(s&&!c){const e=await fetch(`${s}/default-localizations.json`),t=await e.json();return c=!0,t}}))},16236:(e,t,n)=>{n.d(t,{x:()=>a.x});var a=n(89871)},92838:(e,t,n)=>{n.d(t,{oK:()=>c,uN:()=>s,sp:()=>m});n(86578);var a=n(74931),i=n(79010),o=function(){return o=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},r="__ca-message",c={RESUME:"RESUME"},s=function(e,t,n){var a;return void 0===n&&(n={}),!!e&&(!!(0,i.HY)(e.origin)&&(e.postMessage(o((a={},a[r]=t,a),n),e.origin),!0))},u=new Map,p=!1,l=function(e){var t,n=e.data,a=e.origin;if((0,i.HY)(a)){var o=n[r];delete n[r],null===(t=u.get(o))||void 0===t||t.notify(n)}},d=function(){window.addEventListener("message",l),p=!0},m=function(e,t){e&&t&&(p||d(),u.has(e)?u.get(e).subscribe(t):u.set(e,new a.Z({initialHandler:t})))};new a.Z},52578:(e,t,n)=>{n(21515),n(56260),n(91263),n(23143);var a=n(53386),i=n(11960),o=n(82929);const r="https://xp.apple.com",c="https://sandbox.itunes.apple.com",s="https://mzstorekit.itunes.apple.com",u={[a.q.RefundTransactionDetails]:`${s}/inApps/v1/refund/info/{transaction_id}`,[a.q.RefundRequest]:`${s}/inApps/v1/refund`},p={[a.q.ContentBonusOfferRedemptionEnabled]:!1,[a.q.IsPsd2LoggingEnabled]:!0,[a.q.IsBundleEnabled]:!1,[a.q.IsKoreaAgeVerificationEnabled]:!1,[a.q.IsManagePaymentsEnabled]:!1},l={[a.q.DeviceProfileTrustedDomains]:["payments.itunes.apple.com","mr-payments.itunes.apple.com","pv-payments.itunes.apple.com"]},d={},m={},v={[a.q.CommerceUiUrls]:{"v2-url-patterns":["(?:/redeem|redeemLandingPage|freeProductCodeWizard|/account/add-funds|/account/billing|/account/subscriptions)","(?:54a1317a0ad442d3965d64ef6bfaae1c)([/?]|$)","WebObjects/MZFinance.woa/.*manageSubscriptions","WebObjects/MZFinance.woa/.*(useCommerceApp=true)","^https?://sandbox[.]itunes[.]apple[.]com/.*termsPage"]},[a.q.Metrics]:{metricsUrl:`${r}/report`,compoundSeparator:"_",metricsBase:{storeFront:o.FQ.USA}}},h="https://finance-app.itunes.apple.com/",C={[a.q.AccountCardType]:`${i.hW}/account/card/type`,[a.q.AccountCreateWeb]:"https://link.apple.com/account/create/form",[a.q.AccountRecoverySubscription]:`${i.hW}/account/v1/recover/candidates`,[a.q.AccountSettingsAppleIdSiteUrl]:"https://appleid.apple.com",[a.q.AccountSettingsChangeStorefrontUrl]:"itms-ui://finance-app.itunes.apple.com/account/manage-payments/change-storefront?isAccountSummary=true",[a.q.AccountSettingsGraphqlUrl]:"https://buy.itunes.apple.com/account/v1/summary/graphql",[a.q.AccountSummaryUrl]:`${i.hW}/WebObjects/MZFinance.woa/wa/accountSummary`,[a.q.ModifyAccountWk1]:`${i.hW}/WebObjects/MZFinance.woa/wa/accountSummary`,[a.q.AcknowledgeMessage]:`${i.hW}/commerce/messages/app/inbox/acknowledge`,[a.q.AddFundsInfo]:`${i.hW}/commerce/addFunds/info`,[a.q.AddFundsOther]:`${i.$Y}/commerce/addFunds/other`,[a.q.AddFundsSuccess]:`${i.hW}/commerce/addFunds/success`,[a.q.AddFundsUrl]:"",[a.q.ApplePayClassicSettingsUrl]:`${i.hW}/account/applePayClassic/settings`,[a.q.ApplePayEnroll]:`${i.hW}/account/stackable/applePay/enroll`,[a.q.ApplePaySession]:`${i.hW}/account/stackable/applePay/paymentSession`,[a.q.AssignSubscriptionBeneficiary]:`${i.hW}/commerce/account/subscriptions/assignBeneficiary`,[a.q.AurumEditAddress]:`${i.hW}/account/billingAddress/{paymentId}/edit`,[a.q.AutoReloadCancel]:`${i.hW}/commerce/addFunds/autoReload/cancel`,[a.q.AutoReloadSuccess]:`${i.hW}/commerce/addFunds/autoReload/success`,[a.q.BankTokenUrl]:`${i.hW}/payment/referenceData/bankToken/list`,[a.q.BuySubscription]:`${i.hW}/commerce/web/buy/subscription`,[a.q.CancelPreorders]:`${i.hW}/WebObjects/MZFinance.woa/wa/cancelPreorderItemSrv`,[a.q.CancelSegmentVerificationState]:`${i.Rr}/account/v1/verification/{segment}/{sessionState}/cancel`,[a.q.CommerceAppFallbackUrl]:"https://apps.mzstatic.com/content/54a1317a0ad442d3965d64ef6bfaae1c/subscribe",[a.q.CreateSegmentVerificationSession]:`${i.Rr}/account/v1/verification/{segment}/session/create`,[a.q.DeauthAllMachines]:`${i.hW}/account/deauthAllMachines`,[a.q.DeleteSegmentVerificationSession]:`${i.Rr}/account/v1/verification/{segment}/session/delete`,[a.q.EditAccountFieldsSrvV2]:`${i.hW}/account/v1/editAccountFields/get`,[a.q.EmailTermsSrv]:`${i.hW}/WebObjects/MZFinance.woa/wa/emailTermsSrv`,[a.q.ExternalVerificationStatus]:`${i.hW}/payment/getExternalVerificationStatus`,[a.q.FinanceAppBaseUrl]:h,[a.q.FinanceManagePayments]:`${h}account/manage-payments`,[a.q.GenerateEmailConfirmationCode]:`${i.Rr}/account/v1/email/generateConfirmationCode`,[a.q.GetAccountPreferences]:"https://speedysub.itunes.apple.com/subscription/v3/manage/account/preferences",[a.q.GetCarmConfigure]:`${i.hW}/WebObjects/MZFinance.woa/wa/getCarmConfigure`,[a.q.GetSegmentVerificationSession]:`${i.Rr}/account/v1/verification/{segment}/session`,[a.q.GetSegmentVerificationStateAuthdbCountryList]:`${i.Rr}/account/v1/verification/{segment}/country`,[a.q.GetSegmentVerificationStateAuthdbForm]:`${i.Rr}/account/v1/verification/{segment}/authdb/form`,[a.q.GetStudentVerificationStateAuthdbSchoolList]:`${i.Rr}/account/v1/verification/{segment}/school/search`,[a.q.GetSubscriptionOffersSrv]:`${i.hW}/WebObjects/MZFinance.woa/wa/getSubscriptionOffersSrv`,[a.q.GetSubscriptionsInfoSrv]:`${i.hW}/commerce/account/subscriptions/detail`,[a.q.GetSubscriptionsSrv]:`${i.hW}/commerce/account/subscriptions`,[a.q.GetTermsByCountryAndTypeSrv]:`${i.hW}/account/info/terms`,[a.q.GetVerificationSessionHelpUrl]:`${i.Rr}/account/v1/verification/{segment}/help`,[a.q.GetVerificationUrl]:`${i.hW}/commerce/payments/getVerificationUrl`,[a.q.IdVerificationFieldsSrv]:`${i.hW}/account/idverification/fields`,[a.q.InitiateChallenge]:`${i.hW}/account/challenge/initiate`,[a.q.InitiateIdVerification]:`${i.hW}/account/idverification/initiate`,[a.q.InvoiceReductionSrv]:`${i.hW}/commerce/account/flags/generic`,[a.q.LegacyEditBillingInfoSrvV2]:`${i.hW}/account/v1/nonstackable/paymentInfos/edit`,[a.q.LoadCreateAccountFieldsSrv]:`${i.$Y}/WebObjects/MZPlay.woa/wa/createAccountFieldsSrv`,[a.q.ManageDevicesSlotInfo]:`${i.hW}/account/v1/devices/manageDevicesSlotInfo`,[a.q.ManagePaymentsUrl]:`${h}account/manage-payments`,[a.q.PaymentAddV2]:`${i.hW}/account/v1/stackable/paymentInfos/add`,[a.q.PaymentAdd]:`${i.hW}/WebObjects/MZFinance.woa/wa/addOrEditBillingInfoSrv`,[a.q.PaymentEditV2]:`${i.hW}/account/v1/stackable/paymentInfos/{paymentId}/edit`,[a.q.PaymentEdit]:`${i.hW}/WebObjects/MZFinance.woa/wa/addOrEditBillingInfoSrv`,[a.q.PaymentInfosAdd]:`${i.hW}/account/v1/stackable/paymentInfos/add`,[a.q.PaymentInfosEdit]:`${i.hW}/account/v1/stackable/paymentInfos/{paymentId}/edit`,[a.q.PaymentInfosRemoveApplePayClassic]:`${i.hW}/account/applePayClassic/paymentInfos/{paymentId}/delete`,[a.q.PaymentInfosRemove]:`${i.hW}/account/stackable/paymentInfos/{paymentId}/delete`,[a.q.PaymentInfos]:`${i.hW}/account/stackable/paymentInfos`,[a.q.PaymentLegacyEditV2]:`${i.hW}/account/v1/nonstackable/paymentInfos/edit`,[a.q.PaymentOptions]:`${i.hW}/account/paymentOptions`,[a.q.PaymentsAndShippingUrl]:`${h}account/manage-payments`,[a.q.PostSegmentVerificationStateAuthdbForm]:`${i.Rr}/account/v1/verification/{segment}/authdb/verify`,[a.q.PostSegmentVerificationStateDocumentReviewForm]:`${i.Rr}/account/v1/verification/{segment}/doc/upload`,[a.q.PostSegmentVerificationStateEmailCode]:`${i.Rr}/account/v1/verification/{segment}/email/confirm`,[a.q.PostSegmentVerificationStateEmailForm]:`${i.Rr}/account/v1/verification/{segment}/email/domain/verify`,[a.q.PostSegmentVerificationStateSingleSignOnForm]:`${i.Rr}/account/v1/verification/{segment}/sso`,[a.q.PreferredRenewalOption]:`${i.Ze}/subscription/v3/manage/renewalOption`,[a.q.PreordersUrl]:`${h}account/preorders`,[a.q.Preorders]:`${i.hW}/WebObjects/MZFinance.woa/wa/getCancellablePreorderItemsSrv`,[a.q.ProductInfo]:`${i.hW}/commerce/productInfo`,[a.q.Psd2LoggingUrl]:`${i.hW}/payment/psd2SessionState`,[a.q.PurchaseHistoryUrl]:`${h}purchases`,[a.q.PvkBiometricsOnlyAuth]:`${i.Rr}/account/v1/pvk/email/biometricsOnlyAuth`,[a.q.PvkEmailGenerateCodeUrl]:`${i.Rr}/account/v1/pvk/email/generateConfirmationCode`,[a.q.PvkEmailValidateCodeUrl]:`${i.Rr}/account/v1/pvk/email/validateConfirmationCode`,[a.q.PvkEmailWaterfallUrl]:`${i.Rr}/account/v1/pvk/methods`,[a.q.RedeemCodeSrv]:`${i.hW}/commerce/redeemCodeSrv`,[a.q.RedeemDeclineBonus]:`${i.hW}/commerce/content/declineBonus`,[a.q.RedeemInfo]:`${i.hW}/commerce/redeemInfo`,[a.q.RedeemLandingUrl]:"https://apps.apple.com/redeem/",[a.q.RedeemMarketingUrl]:"https://apps.apple.com/redeem/promo/api/v1/redirect",[a.q.RedeemValidateIdUrl]:`${i.hW}/WebObjects/MZFinance.woa/wa/redeemValidateId`,[a.q.Redirect3dSecureUrl]:`${i.hW}/WebObjects/MZFinance.woa/wa/secure3dRedirect`,[a.q.ReinitiateIdVerification]:`${i.hW}/account/idverification/reinitiate`,[a.q.RemoveDeviceSlot]:`${i.hW}/account/v1/devices/removeDeviceSlot/{guid}`,[a.q.RepairSubscriptionUsingExternalVerification]:`${i.hW}/account/payments/repairSubscriptionUsingExternalVerification`,[a.q.ResendCarmOtp]:`${i.hW}/WebObjects/MZFinance.woa/wa/resendCarmOtp`,[a.q.ReverifySegmentStatus]:`${i.Rr}/account/v1/verification/{segment}/reverify`,[a.q.SandboxClearPurchaseHistory]:`${c}/commerce/sandbox/clearPurchaseHistory`,[a.q.SandboxGetIntroOfferStatus]:`${c}/commerce/sandbox/freeTrialStatus`,[a.q.SandboxResetIntroOffer]:`${c}/commerce/sandbox/v2/resetIntroOffer`,[a.q.SandboxSubscriptionRenewalRate]:`${c}/commerce/sandbox/v1/subscription/renewalRate`,[a.q.SendCarmOtp]:`${i.hW}/WebObjects/MZFinance.woa/wa/sendCarmOtp`,[a.q.SendSegmentVerificationStateDocumentReviewLink]:`${i.Rr}/account/v1/verification/{segment}/doc/upload/sendDocUploadUrlByEmail`,[a.q.ShippingAddressDelete]:`${i.hW}/account/shippingAddress/delete`,[a.q.ShippingAddressEdit]:`${i.hW}/account/shippingAddress/edit`,[a.q.SpeedybuyConfirmationDialog]:"https://speedybuy.apps.apple.com/web/speedyBuy/subscriptionConfirmationDialog",[a.q.StackableApplePayClassicSubscriptions]:`${i.hW}/account/applePayClassic/paymentInfos/{paymentId}/subscriptionInfos`,[a.q.StackableDeletePayment]:`${i.hW}/account/stackable/paymentInfos`,[a.q.StackablePaymentsWithApplePayClassic]:`${i.hW}/account/applePayClassic/paymentInfos`,[a.q.StackablePaymentsWithApplePay]:`${i.hW}/account/stackable/applePay/paymentInfos`,[a.q.StackablePayments]:`${i.hW}/account/stackable/paymentInfos`,[a.q.StackableReorderPayments]:`${i.hW}/account/stackable/paymentInfos/ordering`,[a.q.StartExternalVerification]:`${i.hW}/account/payments/startExternalVerification`,[a.q.SubscriptionDetailsV3]:`${i.Ze}/subscription/v3/manage/detail`,[a.q.SubscriptionImpactMessaging]:`${i.Ze}/subscription/v3/manage/impactMessaging`,[a.q.SubscriptionUnbundleOptionsV3]:`${i.Ze}/subscription/v3/manage/unbundleOptions`,[a.q.SubscriptionsListV3]:`${i.Ze}/subscription/v3/manage/list`,[a.q.TermsCheck]:`${i.hW}/WebObjects/MZFinance.woa/wa/termsCheckSrv`,[a.q.ToggleAccountFamilySharing]:`${i.hW}/commerce/family/sharing/account/toggle`,[a.q.ToggleFamilySharing]:`${i.hW}/commerce/family/sharing/toggle`,[a.q.UnbundleSubscriptionOptionsSrv]:`${i.hW}/commerce/account/subscriptions/unbundleOptions`,[a.q.UnbundleSubscriptionSrv]:`${i.hW}/commerce/account/subscriptions/unbundle`,[a.q.UnlinkSegmentStatus]:`${i.Rr}/account/v1/verification/{segment}/unlink`,[a.q.UpdateAutoRenewStateSrv]:`${i.hW}/WebObjects/MZFinance.woa/wa/updateAutoRenewStateSrv`,[a.q.UpdateIcloudStorageSrv]:`${i.hW}/commerce/account/subscriptions/icloud/update`,[a.q.ValidateAccountForChangeCountrySrvV2]:`${i.hW}/account/v2/changeCountry/validate`,[a.q.ValidateCarm]:`${i.hW}/WebObjects/MZFinance.woa/wa/validateCarm`,[a.q.ValidateEmailConfirmationCode]:`${i.Rr}/account/v1/email/validateConfirmationCode`,[a.q.VerificationKitInit]:`${i.hW}/account/web/infoRefresh`,[a.q.VerificationUrl]:`${i.hW}/commerce/payments/verificationUrl`,[a.q.VerifyChallenge]:`${i.hW}/account/challenge/verify`,[a.q.VerifyIdVerification]:`${i.hW}/account/idverification/verify`,[a.q.VerifyPayment]:`${i.hW}/account/verifyPayment`,[a.q.GetCardType]:`${i.hW}/account/card/type`,[a.q.PrivacyConsentConsent]:`${i.hW}/account/v1/pipl/cbpc/apple/consent`,[a.q.PrivacyConsentDissent]:`${i.hW}/account/v1/pipl/cbpc/apple/dissent`,[a.q.PrivacyConsentQueryConsent]:`${i.hW}/account/v1/pipl/cbpc/isConsentRequired`},y={[a.q.LanguageTag]:"",[a.q.Language]:"en-us",[a.q.IsManageIcloudStorageEnabled]:"false",[a.q.IsInvoiceReductionEnabled]:"false",...u};var b;(function(e){e[e["Array"]=0]="Array",e[e["Boolean"]=1]="Boolean",e[e["Double"]=2]="Double",e[e["Integer"]=3]="Integer",e[e["String"]=4]="String",e[e["Url"]=5]="Url",e[e["Dictionary"]=6]="Dictionary"})(b||(b={}));const f={...C,...p,...y,...l,...v,...d,...m};let g={};const S=e=>{switch(!0){case e in C:return b.Url;case e in y:return b.String;case e in p:return b.Boolean;case e in v:return b.Dictionary;case e in l:return b.Array;case e in m:return b.Integer;case e in d:return b.Double;default:return g[e].type}},q=Object.keys(f).reduce(((e,t)=>(e[t]={value:f[t],type:S(t)},e)),{});let A;g={...q};const $=e=>{const t=g[e],{value:n}=t;if("undefined"!==typeof n)return n;throw new Error(`Missing bag value for "${e}"`)},P=(e,t)=>{const n=g[e]||{},a=null===n||void 0===n?void 0:n.type,i=t||a;return[{key:e,type:i}]},w=e=>{try{return $(e)}catch(t){throw t}},R=e=>e.reduce(((e,t)=>{try{return{...e,[t.key]:$(t.key)}}catch(n){return e}}),{}),I=async e=>{const t=S(e),n=P(e,t);try{const t=A&&await A(n);if(t&&"undefined"!==typeof t[e])return t[e]}catch(a){}return w(e)},M=async(...e)=>{const t=e.map((e=>({key:e,type:S(e)})));try{const e=A&&await A(t);if(!e)throw new Error("fetch bag implementation is missing");return t.reduce(((t,n)=>{if("undefined"===typeof e[n.key])try{const e=w(n.key);if("undefined"!==typeof e)return{...t,[n.key]:e}}catch(a){return t}return{...t,[n.key]:e[n.key]}}),{})}catch(n){}return R(t)};a.q;n(19423);var W=n(8273),E=n(97117),O=n(7839);const k={};let V,F=()=>{},U=o.Cv.UnitedStatesOfAmerica,T="en-us",B=!1;const L=(e="en-us")=>{const t=e.toLowerCase(),n=o.Zj[t];if(n)return n;const a=e.includes("-");if(a){const t=e.split("-")[0],n=t.toLowerCase(),a=o.Zj[n];if(a)return a}return o.Zj["en-us"]},D=e=>{const t=new Headers,n=U,a=o.FQ[n],i=a?L(T):"1",r=o.FQ[n]||o.FQ.USA;return t.set("X-Apple-Store-Front",`${r}-${i},8`),t.set("Accept-Language",T||"en-us"),t.set("Content-Type",O.zc.Json),e instanceof Headers?e.forEach(((e,n)=>{t.set(n,e)})):"object"===typeof e&&Object.entries(e).forEach((([e,n])=>{t.set(e,n)})),t},x=async(e,t={})=>{const n="include",{shouldRetryOn401:a,headers:i,body:o,method:r,interceptorOptions:c,shouldDisableInterceptors:s,queryParams:u,...p}=t,l=await(0,W.Pl)(e,V||E.W,{onFinishedCallback:F,shouldRetryOn401:a||B,interceptors:k,headers:D(i),body:o,interceptorOptions:c,shouldDisableInterceptors:s,method:r,queryParams:u,fetchOptions:{credentials:n,...p}},{maxRetries:0});return l.body};var G,N,Z;(function(e){e["CanBuyVppLicenses"]="UnsupportedAccountTypeForWeb_CanBuyVppLicenses",e["CanManageVppLicenses"]="UnsupportedAccountTypeForWeb_CanManageVppLicenses",e["CanShopInVolumeEducationStore"]="UnsupportedAccountTypeForWeb_CanShopInVolumeEducationStore",e["CanShopInVolumeEnterpriseStore"]="UnsupportedAccountTypeForWeb_CanShopInVolumeEnterpriseStore",e["ConversionRequired"]="UnsupportedAccountTypeForWeb_ConversionRequired",e["IsManagedAppleId"]="UnsupportedAccountTypeForWeb_IsManagedAppleId",e["IsSpecialEduAccount"]="UnsupportedAccountTypeForWeb_IsSpecialEduAccount",e["SecurityUpgradeRequired"]="UnsupportedAccountTypeForWeb_SecurityUpgradeRequired",e["LiteAccount"]="UnsupportedAccountTypeForWeb_LiteAccount",e["NoAccountFound"]="NoAccountFound",e["IneligibleStorefront"]="IneligibleStoreFront",e["Unauthorized"]="Unauthorized",e["IsDormant"]="UnsupportedAccountTypeForWeb_IsDormant"})(G||(G={})),function(e){e["DefaultWeb"]="web",e["WebService"]="ws",e["GrandSlam"]="gs"}(N||(N={})),function(e){e["Inline"]="inline",e["Modal"]="modal"}(Z||(Z={}));var j=n(92162),K=n(65674),_=n(79010),H=n(16236);const z={[H.x.Music]:"https://amp-account.music.apple.com",[H.x.Tv]:"https://amp-account.tv.apple.com",[H.x.Podcasts]:"https://amp-account.podcasts.apple.com",[H.x.PodcastsConnect]:"https://amp-account.podcasts.apple.com",[H.x.PodcastsConnectDeprecated]:"https://amp-account.podcasts.apple.com"},Y={apps:"https://amp-account.apps.apple.com",link:"https://amp-account.link.apple.com"},J="{ampAccountDomain}",Q=`${J}/account/web/config`;let X,ee;j.q;let te,ne;const ae={...C,...y},ie=()=>{var e,t;const n=(null===(e=null===ee||void 0===ee?void 0:ee.state)||void 0===e?void 0:e.storefront)||o.Cv.UnitedStatesOfAmerica,a=(null===(t=null===ee||void 0===ee?void 0:ee.state)||void 0===t?void 0:t.productContext)||(0,_.H1)(),i=le(),r=Y[i||""]||z[a]||z[H.x.Music],c=(0,K.Xc)(n).toLowerCase();let s,u;return te&&({webLogoutUrl:s,webLogoutAllUrl:u}=te),{...ae,[j.q.AcknowledgeMessageWeb]:`https://buy.${i}.apple.com/commerce/web/v1/messages/acknowledge`,[j.q.AccountCreateOptions]:`https://buy.${i}.apple.com/account/restricted/create/options`,[j.q.AccountConversionInit]:`${r}/account/v1/web/convert/init`,[j.q.AccountConversionSetSignedup]:`${r}/account/v1/web/convert/setSignedUp`,[j.q.AccountPodSrv]:`https://buy.${i}.apple.com/account/pod`,[j.q.AccountSettingsSrv]:`https://buy.${i}.apple.com/account/information/sections`,[j.q.AcknowledgePrivacy]:`https://buy.${i}.apple.com/account/gdpr/acknowledgePrivacy`,[j.q.AosOrderDetailsUrl]:"https://xe01aws-store.ucp.apple.com/xc/us/vieworder/{webOrderNumber}/{appleId}",[j.q.AppAccessRequest]:`https://buy.${i}.apple.com/commerce/oauth2/internal/validate`,[j.q.AuthGrandSlam]:"https://auth.apps.apple.com/auth/v1/gs",[j.q.AuthWebService]:"https://auth.apps.apple.com/auth/v1/ws",[j.q.AuthWebServiceRefresh]:"https://auth.apps.apple.com/auth/v1/ws/refresh",[j.q.AmpTermsGetUrl]:"https://amp-account.apps.apple.com/account/terms/info",[j.q.AmpTermsVerifyUrl]:"https://amp-account.apps.apple.com/account/terms",[j.q.BuySubscription]:`https://buy.${i}.apple.com/commerce/web/buy/subscription`,[j.q.CarrierLinkSrv]:`https://buy.${i}.apple.com/WebObjects/MZFinance.woa/wa/carrierLinkSrv`,[j.q.linkChannelSubscription]:"https://p2-buy.itunes.apple.com/commerce/channel/link",[j.q.CreateAccountFieldsSrv]:`https://play.${i}.apple.com/WebObjects/MZPlay.woa/wa/createAccountFieldsSrv`,[j.q.GetChannelSubscriptionOfferParameters]:`https://speedysub.${i}.apple.com/subscription/v1/channel/parameters`,[j.q.CreateAccountSrv]:`https://buy.${i}.apple.com/WebObjects/MZFinance.woa/wa/createAccountSrv`,[j.q.ChannelSendSms]:"https://buy.itunes.apple.com/commerce/channel/send-sms-code",[j.q.ChannelVerifySms]:"https://buy.itunes.apple.com/commerce/channel/verify-sms-code",[j.q.DeviceLinkValidate]:`${r}/account/device-link/validate`,[j.q.EditBillingInfoSrv]:`https://buy.${i}.apple.com/account/v1/nonstackable/paymentInfos/edit`,[j.q.GenerateAndSendSecCodeSrv]:`https://buy.${i}.apple.com/WebObjects/MZFinance.woa/wa/generateAndSendSecCodeSrv`,[j.q.GenerateEmailConfirmationCodeSrv]:`https://buy.${i}.apple.com/WebObjects/MZFinance.woa/wa/generateEmailConfirmationCodeSrv`,[j.q.GetPayPalUrl]:`https://buy.${i}.apple.com/WebObjects/MZFinance.woa/wa/getPayPalUrl`,[j.q.GetTermsByCountryAndTypeSrv]:`https://buy.${i}.apple.com/WebObjects/MZFinance.woa/wa/getTermsByCountryAndTypeSrv`,[j.q.IdVerificationFieldsSrv]:`https://buy.${i}.apple.com/account/idverification/fields`,[j.q.InitiateIdVerification]:`https://buy.${i}.apple.com/account/idverification/initiate`,[j.q.Logout]:(null===s||void 0===s?void 0:s.replace(K.Ru,i))||`https://buy.${i}.apple.com/account/web/logout`,[j.q.LogoutAll]:(null===u||void 0===u?void 0:u.replace(K.Ru,i))||`https://buy.${i}.apple.com/account/web/logout/all`,[j.q.NuDataSyncResponseSrv]:`https://buy.${i}.apple.com/WebObjects/MZFinance.woa/wa/nuDataSyncResponseSrv`,[j.q.ParentalControlsDisable]:`${r}/account/parentalControls/disable`,[j.q.ParentalControlsEdit]:`${r}/account/parentalControls/settings/edit`,[j.q.ParentalControlsPinEdit]:`${r}/account/parentalControls/pin/edit`,[j.q.ParentalControlsPinVerify]:`${r}/account/parentalControls/pin/verify`,[j.q.ParentalControlsRecoveryEmailEdit]:`${r}/account/parentalControls/recoveryEmail/edit`,[j.q.ParentalControlsRecoveryEmailSend]:`${r}/account/parentalControls/recoveryEmail/send`,[j.q.ParentalControlsSetup]:`${r}/account/parentalControls/setUp`,[j.q.PaymentOptionsSrv]:`https://buy.${i}.apple.com/account/paymentOptions`,[j.q.RedeemCodeInfo]:`https://buy.${i}.apple.com/commerce/web/redeemInfo`,[j.q.RedeemSubscription]:`https://buy.${i}.apple.com/commerce/web/redeem/subscription`,[j.q.ReInitiateIdVerification]:`https://buy.${i}.apple.com/account/idverification/reinitiate`,[j.q.SendCarmOtp]:`https://buy.${i}.apple.com/WebObjects/MZFinance.woa/wa/sendCarmOtp`,[j.q.CarrierBillingOtpInitiate]:`https://buy.${i}.apple.com/payment/carrierbilling/otp/initiate`,[j.q.CarrierBillingOtpReinitiate]:`https://buy.${i}.apple.com/payment/carrierbilling/otp/reinitiate`,[j.q.CarrierBillingValidateOtp]:`https://buy.${i}.apple.com/payment/carrierbilling/otp/validate`,[j.q.CarrierChannelLinkSrv]:`https://buy.${i}.apple.com/commerce/web/channel/link`,[j.q.CarrierChannelSendSmsSrv]:`https://buy.${i}.apple.com/commerce/web/channel/send-sms-code`,[j.q.CarrierChannelVerifySmsSrv]:`https://buy.${i}.apple.com/commerce/web/channel/verify-sms-code`,[j.q.SubscriptionConfirmation]:`https://buylite.${i}.apple.com/web/buy/subscriptionConfirmationDialog`,[j.q.SubscriptionOffers]:`https://buy.${i}.apple.com/commerce/web/subscription/offers/`,[j.q.SubscriptionStatus]:`https://buy.${i}.apple.com/commerce/web/subscription/status/`,[j.q.SubscriptionsSrv]:`https://buy.${i}.apple.com/commerce/web/subscription`,[j.q.TermsAndConditions]:"https://www.apple.com/legal/internet-services/itunes/",[j.q.TermsCheckSrv]:`https://buy.${i}.apple.com/account/terms`,[j.q.ThirdPartyLogin]:`https://buy.${i}.apple.com/commerce/oauth2/internal/authorization`,[j.q.TvAgeVerifyPayment]:`https://buy.${i}.apple.com/account/verifyPayment`,[j.q.ValidateAccountFieldsSrv]:`https://buy.${i}.apple.com/WebObjects/MZFinance.woa/wa/validateAccountFieldsSrv`,[j.q.ValidateAccountNameSrv]:`https://auth.${i}.apple.com/auth/v1/web/accountName/validate`,[j.q.InitializeSessionSrv]:`https://auth.${i}.apple.com/auth/v1/liteReplayProtection/initializeSession`,[j.q.ValidateCarm]:`https://buy.${i}.apple.com/WebObjects/MZFinance.woa/wa/validateCarm`,[j.q.ValidateEmailConfirmationCodeSrv]:`https://buy.${i}.apple.com/WebObjects/MZFinance.woa/wa/validateEmailConfirmationCodeSrv`,[j.q.ValidateSecCodeSrv]:`https://buy.${i}.apple.com/WebObjects/MZFinance.woa/wa/validateSecCodeSrv`,[j.q.VerifyIdVerification]:`https://buy.${i}.apple.com/account/idverification/verify`,[j.q.PaymentChallengeInitiate]:`https://buy.${i}.apple.com/account/challenge/initiate`,[j.q.PaymentChallengeVerify]:`https://buy.${i}.apple.com/account/challenge/verify`,[j.q.WatchListSettings]:`https://buy.${i}.apple.com/account/v1/watchList/settings`,[j.q.WebAccountInfo]:`https://buy.${i}.apple.com/account/web/info`,[j.q.WebAccountInfoRefresh]:`https://buy.${i}.apple.com/account/web/infoRefresh`,[j.q.QrAuthValidate]:`https://auth.${i}.apple.com/auth/v1/qr/validate`,[j.q.QrAuthLink]:`https://auth.${i}.apple.com/auth/v1/qr/link`,[j.q.QrAuthRoute]:`https://auth.${i}.apple.com/auth/v1/qr/route`,[j.q.RegisterDeviceFpdi]:`https://buy.${i}.apple.com/commerce/account/subscription/offers/device`,[j.q.IdmsSignin]:"https://idmsa.apple.com/IDMSWebAuth/signin",[j.q.IdmsSigninUAT]:"https://idmsa-uat.apple.com/IDMSWebAuth/signin",[j.q.StoreFrontId]:"143441",[j.q.GetRestrictedCreateAccountOptions]:`https://buy.${i}.apple.com/account/restricted/create/options`,...c?{[j.q.ParentalControlsVideo]:`https://amp-api.videos.apple.com/v1/storefronts/${c}?include=rating-systems`,[j.q.ParentalControlsMusic]:`https://amp-api.music.apple.com/v1/storefronts/${c}`}:{},[j.q.ValidateOauthLinkCode]:"https://oauth.link.apple.com/api/v1/oauth/validate",[j.q.QrAuthWeb]:`https://auth.${i}.apple.com/auth/v1/web`,[j.q.InitializeOauthLinkFlow]:"https://oauth.link.apple.com/api/v1/oauth/authorization",[j.q.CancelBuy]:`https://buy.${i}.apple.com/commerce/web/buy/cancelBuy`,[j.q.MercuryBaseUrlTv]:"https://amp-api.videos.apple.com",[j.q.MercuryBaseUrlMusic]:"https://amp-api.music.apple.com",[j.q.InboxMessages]:`https://buy.${i}.apple.com/commerce/web/v1/messages/inbox`,[j.q.AndroidMusicRedeemReferrerUrl]:"https://music.apple.com/redeem",[j.q.PrivacyConsentConsent]:`https://buy.${i}.apple.com/account/v1/pipl/cbpc/apple/consent`,[j.q.PrivacyConsentDissent]:`https://buy.${i}.apple.com/account/v1/pipl/cbpc/apple/dissent`,[j.q.PrivacyConsentQueryConsent]:`https://buy.${i}.apple.com/account/v1/pipl/cbpc/isConsentRequired`,[j.q.RemoteUnlink]:`https://auth.${i}.apple.com/auth/v1/remote/unlink`,[j.q.SubscriptionNotify]:`https://buy.${i}.apple.com/commerce/web/subscription/notify`}};let oe;const re=(e,t=(0,_.H1)(),n=(0,_.VW)())=>{const a=Y[n||""]||z[t]||z[H.x.Music];return e.replace(J,a)},ce=async e=>{(null===e||void 0===e?void 0:e.store)&&(ee=e.store),(null===e||void 0===e?void 0:e.getBagValueOverride)&&(oe=e.getBagValueOverride),X=(0,_.VW)(),X===_.d$&&(X=null);const t=await x(de());te=null===t||void 0===t?void 0:t.webBag,ne=null===t||void 0===t?void 0:t.webStorefrontEligibility},se=/{([^}]+)}/g,ue=(e,t)=>t?e.replace(se,((e,n)=>{const a=t[n];return a||n})):e,pe=(e,t)=>{let n="undefined"!==typeof oe&&oe(e)?oe(e):ie()[e];if(!n)throw new Error("Bag value missing");return e in ae&&(n=n.replace(K.Ru,le())),n=(0,_.AC)(n,(0,_.H1)()),ue(n,t)},le=()=>X||K.Ru,de=(e=(0,_.H1)())=>re(Q,e);var me,ve=n(17870),he=n(18021),Ce=n(27498),ye=n(10279),be=(n(83227),n(31682)),fe=n(64382),ge=n(33839),Se=function(){return Se=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Se.apply(this,arguments)},qe=function(e){var t=e.commerceKitConfig,n=e.refreshAuth;if((0,fe.T2)()){var a=(0,ge.Jl)(location.href).env;return(0,Ce.Z)((0,fe.t8)(a)?a:void 0,{autoResizeElement:document.getElementById("root")||document.getElementById("app")||void 0})}return(0,ye.Z)({config:t,refreshAuth:n})},Ae=function(e){return Se(Se({},e),{routeMap:Se(Se({},e.routeMap||{}),{})})},$e=function(e){var t,n=e.commerceKitConfig,a=e.refreshAuth,i=Ae(n);return(0,fe.zd)()?qe({commerceKitConfig:i,refreshAuth:a}):(0,be.Z)((null===(t="/")||void 0===t?void 0:t.slice(0,-1))||"")},Pe=n(29511);n(15306),n(28435);(function(e){e["AccountConfirmation"]="account-confirmation",e["AccountConversion"]="account-conversion",e["AccountConversionBillingAddress"]="account-conversion-billing-address",e["AccountSettings"]="account-settings",e["AccountSettingsChooseSubPlan"]="account-settings-choose-plan",e["AccountSettingsEditSubPlan"]="account-settings-edit-plan",e["AgeVerification"]="age-verification",e["AgeVerificationLanding"]="age-verification-landing",e["AgeVerificationForm"]="age-verification-form",e["AgeVerificationVerifySms"]="age-verification-verify-sms",e["AgeVerificationConfirmation"]="age-verification-confirmation",e["AlreadySubscriber"]="already-subscriber",e["Authenticate"]="authenticate",e["Billing"]="billing",e["BillingInfo"]="billing-info",e["BuyWithBilling"]="buy-with-billing",e["CarrierLinking"]="carrier-linking",e["CarrierBilling"]="carrier-billing",e["CarrierSendSms"]="carrier-send-sms",e["CarrierVerifySms"]="carrier-verify-sms",e["ChannelPlatformLanding"]="channel-platform-landing",e["ChannelPlatformConfirmation"]="channel-platform-confirmation",e["CaptureChinaPhoneNumber"]="capture-china-phone-number",e["ContextualUpsell"]="contextual-upsell",e["ContextualPodcastsUpsell"]="contextual-podcasts-upsell",e["ContextualSportsUpsell"]="contextual-sports-upsell",e["ConfirmConsent"]="confirm-consent",e["Create"]="create",e["CreateAccount"]="create-account",e["CreateAccountV2"]="create-account-v2",e["CreateLanding"]="create-landing",e["CreateLandingV2"]="create-landing-v2",e["CreateSubscribeConfirmDialog"]="create-subscribe-confirm-dialog",e["DeviceLinkLanding"]="device-link-landing",e["DeviceLinkSuccess"]="device-link-success",e["EditBilling"]="edit-billing",e["FreeContentLanding"]="free-content-landing",e["GenericDialog"]="generic-dialog",e["InboxMessages"]="inbox-messages",e["LegalAgeVerification"]="legal-age-verification",e["Logout"]="logout",e["NotFound"]="not-found",e["OAuth"]="oauth",e["Offer"]="offer",e["OfferUnsupported"]="offer-unsupported",e["PasscodeReset"]="passcode-reset",e["PaymentVerificationDetails"]="payment-verification-details",e["ManagePayments"]="manage-payments",e["ManageSubscription"]="manage-subscription",e["ManageSubscriptionDetail"]="manage-subscription-detail",e["MercuryUpsell"]="mercury-upsell",e["OauthLanding"]="oauth-landing",e["PaymentRecovery"]="payment-recovery",e["PaymentVerificationOtp"]="payment-verification-otp",e["PaymentVerificationSuccess"]="payment-verification-success",e["PlanAction"]="plan-action",e["PlanSubscribe"]="plan-subscribe",e["Privacy"]="privacy",e["PrivacyStandalone"]="privacy-standalone",e["RedeemLanding"]="redeem-landing",e["RedeemConfirmation"]="redeem-confirmation",e["RedeemCodeEntry"]="redeem-code-entry",e["RedeemSuccess"]="redeem-success",e["RedeemError"]="redeem-error",e["Resume"]="resume",e["ServerError"]="server-error",e["SetParentalControls"]="set-parental-controls",e["SignedOutOffer"]="signed-out-offer",e["SignedInOffer"]="signed-in-offer",e["StackablePayments"]="stackable-payments",e["StackableAddPayment"]="stackable-add-payment",e["StackableAddPaymentQr"]="stackable-add-payment-qr",e["StackableAddPaymentBase"]="stackable-add-payment-base",e["ChallengePaymentQrCode"]="challenge-payment-qr",e["InterruptPaymentQrCode"]="interrupt-payment-qr",e["StackableEditPayment"]="stackable-edit-payment",e["StackableEditShipping"]="stackable-edit-shipping",e["Subscribe"]="subscribe",e["SubscriptionEdit"]="subscription-edit",e["SubscriptionConfirmation"]="subscription-confirmation",e["SubscribeConfirmBuyDialog"]="subscribe-confirm-buy-dialog",e["SubscriptionGdprWelcomePage"]="subscription-gdpr-welcome-page",e["SubscriptionWelcomePage"]="subscription-welcome-page",e["SubscribeOtherAuthenticate"]="subscribe-other-authenticate",e["SubscribeOtherCreate"]="subscribe-other-create",e["SubscriptionNotificationSent"]="subscription-notification-sent",e["SubscribeOtherSplitAccountWarning"]="subscribe-other-split-account-warning",e["TermsAgreement"]="terms-agreement",e["ThirdParty"]="third-party",e["TVAgeVerification"]="tv-age-verification",e["Unsupported"]="unsupported",e["VerifyCarrier"]="verify-carrier",e["VerifyCarrierOffer"]="verify-carrier-offer",e["VerifyCode"]="verify-code",e["VerifyCvv"]="verify-cvv",e["VerifyEmail"]="verify-email",e["VerifyEmailV2"]="verify-email-v2",e["VerifyPhone"]="verify-phone",e["VerifyPhoneV2"]="verify-phone-v2",e["LinkhostLandingCode"]="linkhost-landing-code",e["LinkhostLandingSubscription"]="linkhost-landing-subscription",e["LinkhostOnboarding"]="linkhost-onboarding",e["LinkhostLinkSuccess"]="linkhost-link-success",e["ErrorUnsupportedCountry"]="error-unsupported-country",e["ErrorNoSubscription"]="error-no-subscription",e["OAuthError"]="oauth-error",e["OAuth2"]="oauth-activate",e["SubscriptionsList"]="subscriptions-list",e["SubscriptionDetails"]="subscription-details",e["SubscriptionPriceIncrease"]="subscription-price-increase",e["SubscriptionImpactMessaging"]="subscription-impact-messaging",e["SubscriptionCancellationSuccess"]="subscription-cancellation-success",e["SubscriptionPrivacy"]="subscription-privacy",e["SubscriptionSelection"]="subscription-selection"})(me||(me={}));me.Authenticate,me.Offer,me.PasscodeReset,me.LinkhostOnboarding,me.FreeContentLanding,me.SubscribeOtherCreate,me.SubscribeOtherAuthenticate;const we=()=>(0,K.F4)(location.search,"authType",(0,fe.T2)()?N.GrandSlam:N.DefaultWeb),Re=async e=>{if((e||we())!==N.WebService)return;const t=new Request(pe(j.q.AuthWebServiceRefresh),{method:"POST",credentials:"include"});return fetch(t)},Ie=()=>{const{theme:e,product:t,useRelativeIframeSrc:n}=(0,K.Jl)(window.location.href),{storefront:a,userPreferredLanguage:i}=(0,Pe.A)();return{authOptions:{type:we()},modalOptions:{containerSelector:"#commercekit-modal-container"},useRelativeIframeSrc:"true"===n,...e&&{theme:e},...t&&{product:t},...i&&{locale:i},...a&&{storefront:a}}};let Me;const We=e=>Me||(Me=$e({commerceKitConfig:Ie(),refreshAuth:Re,...e}),Me),Ee=e=>async(t,n)=>{var a,i,o,r,c;if(n)try{const t=await x(pe(n.bagKey),{headers:null===(a=n.requestOptions)||void 0===a?void 0:a.headers,body:JSON.stringify(null===(i=n.requestOptions)||void 0===i?void 0:i.body),method:null===(o=n.requestOptions)||void 0===o?void 0:o.method,contentType:null===(r=n.requestOptions)||void 0===r?void 0:r.contentType,queryParams:null===(c=n.requestOptions)||void 0===c?void 0:c.queryParams,shouldDisableInterceptors:!0});e.send("parent",he.B_.FetchResponse,{requestId:n.requestId,httpStatus:t.status,body:t})}catch(s){s instanceof ve.nl?e.send("parent",he.B_.FetchResponse,{requestId:n.requestId,httpStatus:s.status,error:s}):e.send("parent",he.B_.FetchResponse,{requestId:n.requestId,error:s})}},Oe=()=>{We({commerceKitConfig:{...Ie(),onBeforeBoot:e=>{e.eventEmitter.addListener(he.B_.FetchRequest,Ee(e))}}})};(async()=>{await ce(),Oe()})()}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.m=e,(()=>{var e=[];n.O=(t,a,i,o)=>{if(!a){var r=1/0;for(p=0;p<e.length;p++){a=e[p][0],i=e[p][1],o=e[p][2];for(var c=!0,s=0;s<a.length;s++)(!1&o||r>=o)&&Object.keys(n.O).every((e=>n.O[e](a[s])))?a.splice(s--,1):(c=!1,o<r&&(r=o));if(c){e.splice(p--,1);var u=i();void 0!==u&&(t=u)}}return t}o=o||0;for(var p=e.length;p>0&&e[p-1][2]>o;p--)e[p]=e[p-1];e[p]=[a,i,o]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={9983:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var i,o,r=a[0],c=a[1],s=a[2],u=0;if(r.some((t=>0!==e[t]))){for(i in c)n.o(c,i)&&(n.m[i]=c[i]);if(s)var p=s(n)}for(t&&t(a);u<r.length;u++)o=r[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(p)},a=self["webpackChunk_amp_ui_commerce_commerce_web_app"]=self["webpackChunk_amp_ui_commerce_commerce_web_app"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=n.O(void 0,[1941,3064],(()=>n(52578)));a=n.O(a)})();
